<view xmlns="http://jmix.io/schema/flowui/view" xmlns:charts="http://jmix.io/schema/charts/ui"
      title="msg://projectStatsView.title">
    <data readOnly="true">
        <collection id="projectStatsDc"
                    class="com.company.jmixpmflowbase.entity.ProjectStats">
            <loader id="projectStatsDl"/>
        </collection>
    </data>
    <facets>
        <dataLoadCoordinator auto="true"/>
    </facets>
    <layout>

        <charts:chart id="chart"
                      width="100%" minHeight="15em">
            <charts:tooltip/>
            <charts:legend right="5%"/>
            <charts:dataSet>
                <charts:source dataContainer="projectStatsDc"
                               categoryField="projectName"
                               valueFields="plannedEfforts"/>
            </charts:dataSet>
            <charts:series>
                <charts:pie name="Project"/>
            </charts:series>
        </charts:chart>
        <hbox>
            <button id="refreshBtn" action="projectStatsDataGrid.refresh"/>
        </hbox>
        <dataGrid id="projectStatsDataGrid"
                  dataContainer="projectStatsDc"
                  width="100%">
            <actions>
                <action id="refresh" type="list_refresh"/>
            </actions>
            <columns>
                <column property="projectName"/>
                <column property="tasksCount"/>
                <column property="plannedEfforts"/>
                <column property="actualEfforts"/>
            </columns>
        </dataGrid>
    </layout>
</view>